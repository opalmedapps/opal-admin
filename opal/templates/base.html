{% load static %}
{% load i18n %}

<!DOCTYPE html>
<html lang="en" data-bs-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>{% block title %}Untitled Page{% endblock %} Â· OpalAdmin 2.0</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous" />
    <link href="{% static 'css/sidebars.css' %}" rel="stylesheet" />
    {% block stylesheets %}{% endblock %}
  </head>
  <body>
    <!-- TODO: use Bootstrap Icons properly; or FontAwesome 6 -->
    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
      <symbol id="people-circle" viewBox="0 0 16 16">
        <path d="M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z" />
        <path fill-rule="evenodd"
          d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1z" />
      </symbol>
    </svg>

    <div class="d-flex flex-nowrap">
      <nav class="d-flex flex-column flex-shrink-0 p-3 border-end" style="width: 300px;">
        <a href="" class="d-flex align-items-center pb-3 mb-3 link-dark text-decoration-none border-bottom">
          <img src="{% static 'images/opal_purple.png' %}" alt="opal ADMIN logo" class="bi pe-none me-2 align-middle" width="32" height="32" style="opacity: .8" />
          <span class="fs-4 fw-semibold text-body">OpalAdmin 2.0</span>
          &nbsp;<span class="badge rounded-pill text-bg-primary">new</span>
        </a>
        <p>
          <a href="" class="text-secondary">Go back to Legacy OpalAdmin</a>
        </p>

        <ul class="list-unstyled ps-0 mb-auto">
          {% #menu_group group_id="home" title=_("Home") request=request %}
            {% #menu_item url_name="start" request=request %}
              {% translate "Home Page" %}
            {% /menu_item %}
          {% /menu_group %}

          {% comment %}Hospital Settings{% endcomment %}
          {% if perms.hospital_settings.can_manage_institutions or perms.hospital_settings.can_manage_sites %}
            {% #menu_group app_name="hospital-settings" group_id="settings" title=_("Hospital Settings") request=request %}
              {% if perms.hospital_settings.can_manage_institutions %}
                {% #menu_item url_name="hospital-settings:institution-list" request=request %}
                  {% translate "Institutions" %}
                {% /menu_item %}
              {% endif %}
              {% if perms.hospital_settings.can_manage_sites %}
                {% #menu_item url_name="hospital-settings:site-list" request=request %}
                  {% translate "Sites" %}
                {% /menu_item %}
              {% endif %}
            {% /menu_group %}
          {% endif %}

          {% comment %}Patients{% endcomment %}
          {% #menu_group app_name="patients" group_id="patients" title=_("Patients") request=request %}
            {% if perms.patients.can_manage_relationshiptypes %}
              {% #menu_item url_name="patients:relationshiptype-list" request=request %}
                {% translate "Relationship Types" %}
              {% /menu_item %}
            {% endif %}
            {% if perms.hospital_settings.can_manage_sites %}
              {% #menu_item url_name="patients:access-request" request=request %}
                {% translate "New Access Request" %}
              {% /menu_item %}
            {% endif %}
            {% if perms.patients.can_manage_relationships %}
              {% #menu_item url_name="patients:relationships-pending-list" request=request %}
                {% translate "Pending Access Requests" %}
              {% /menu_item %}
            {% endif %}
            {% #menu_item url_name="patients:relationships-search" request=request %}
              {% translate "Manage Caregiver Access" %}
            {% /menu_item %}
          {% /menu_group %}

          {% comment %}Questionnaires{% endcomment %}
          {% if perms.questionnaires.export_report %}
            {% #menu_group app_name="questionnaires" group_id="questionnaires" title=_("Questionnaires") request=request %}
              {% #menu_item url_name="questionnaires:reports" request=request %}
                {% translate "Export Reports" %}
              {% /menu_item %}
            {% /menu_group %}
          {% endif %}
        </ul>

        <div class="dropdown pt-3 border-top">
          <a href="#" class="d-flex align-items-center link-dark text-decoration-none dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false">
            <svg class="bi pe-none me-2" width="32" height="32">
            <use xlink:href="#people-circle" />
          </svg>
          <strong>{{ request.user.username }}</strong>
        </a>
        <ul class="dropdown-menu text-small shadow">
          <li>
            <a class="dropdown-item" href="#">Profile</a>
          </li>
          <li>
            <hr class="dropdown-divider" />
          </li>
          <li>
            <a class="dropdown-item" href="{% url 'logout' %}">{% translate "Log Out" %}</a>
          </li>
        </ul>
      </div>
      </nav>

      <main class="container-fluid d-flex flex-column px-5 pt-4">
        <div class="mb-auto">
          <nav aria-label="breadcrumb" class="bg-white">
            <ol class="breadcrumb">
              <li class="breadcrumb-item">Hospital Settings (<code class="text-small">&lt;app.verbose_name&gt;</code>)</li>
              <li class="breadcrumb-item active" aria-current="page">Institutions (<code class="text-small">&lt;page_title&gt;</code>)</li>
            </ol>
          </nav>
          <h1 class="mb-3">{% block heading %}empty block <code>heading</code>{% endblock %}</h1>
          {% comment %} <div class="card"> {% endcomment %}
            {% comment %} <div class="card-body"> {% endcomment %}
              {% comment %} <h4 class="card-title">{% block page-title %}block <code>page-title</code>{% endblock %}</h4> {% endcomment %}
              {% block content %}empty block <code>content</code>{% endblock %}
            {% comment %} </div> {% endcomment %}
          {% comment %} </div> {% endcomment %}
        </div>
        <footer class="py-2 pt-3 mt-4 border-top">
          <p class="text-center text-muted"><small>&copy; Opal Health Informatics Group</small></p>
        </footer>
      </main>

    </div>
    <!-- Javascript: Placed at the end of the document so the pages load faster -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>
    {% block javascript %}{% endblock %}
  </body>
</html>
